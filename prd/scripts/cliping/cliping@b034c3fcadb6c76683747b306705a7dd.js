(function(e){var t={id:"339c457d9ab3b082b11b53ea7812f2d0",filename:"cliping.string",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["cliping"]='\n<nav class="nav-side">\n<li class="menu-item">\n    <input type="file" id="file" ng-model="fileReader" ng-change="readFile()">\n</li>\n<li class="menu-item" ng-repeat="book in params.bookList">{{book}}</li>\n</nav>\n\n<div class="main-warp">\n<div >\n    <button ng-click="pattern()">正则</button>\n</div>\n<div>{{fileReader}}</div>\n<div ng-repeat="book in params.bookList">\n    <div class="book-name">{{book}} <span class="book-author">{{}}</span></div>\n    <article class="book-content">\n        <li ng-repeat="note in params.notes | filter:{ title : book }">{{note.fragment}}</li>\n    </article>\n</div>\n\n</div>';if(typeof t!=="undefined")t.exports=window.QTMPL["cliping"]}(t.exports,t,e);e.____MODULES["339c457d9ab3b082b11b53ea7812f2d0"]=t.exports})(this);(function(e){var t={id:"9261ca162e03063c8da25c0eafe51d3e",filename:"cliping.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["339c457d9ab3b082b11b53ea7812f2d0"];angular.setView(i);app.controller("main",["$scope",function(e){e.params={notes:[],bookList:[],noteList:[]};e.readFile=function(){var t=new FileReader;var n=document.getElementById("file").files[0];t.readAsText(n);t.onload=function(){console.log(t.result);e.params.txt=t.result;e.$apply()}};e.pattern=function(){var t=/==========/g;var n=/^(.*) \((.*)\).*(?:\s+)(.*)(?:\s+)(.*)/m;var r=e.params.txt.split(t);var i=[];for(var s=0,o=r.length-1;s<o;s++){var u=r[s].match(n);i[s]={title:u[1],author:u[2],fragment:u[4]}}e.params.bookList=e.unique(i);e.params.notes=i;console.log(e.params.bookList[0]==e.params.bookList[1])};e.unique=function(e){var t=new Array;for(var n in e){if(t.indexOf(e[n].title)==-1){t.push(e[n].title)}}console.log(t);return t}}])}(t.exports,t,e);e.____MODULES["9261ca162e03063c8da25c0eafe51d3e"]=t.exports})(this)